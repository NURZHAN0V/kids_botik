def –∏–≥—Ä–∞_–∫—Ä–µ—Å—Ç–∏–∫–∏_–Ω–æ–ª–∏–∫–∏():
    import random

    def –≤—ã–≤–µ—Å—Ç–∏_–ø–æ–ª–µ(–ø–æ–ª–µ):
        print("\n     0   1   2")
        print("   -------------")
        for i, —Å—Ç—Ä–æ–∫–∞ in enumerate(–ø–æ–ª–µ):
            print(f" {i} | {' | '.join(—Å—Ç—Ä–æ–∫–∞)} |")
            print("   -------------")

    def –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–±–µ–¥–∏—Ç–µ–ª—è(–ø–æ–ª–µ, —Å–∏–º–≤–æ–ª):
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–æ–∫, —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ –¥–∏–∞–≥–æ–Ω–∞–ª–µ–π
        for i in range(3):
            if –≤—Å–µ_—Ä–∞–≤–Ω—ã(–ø–æ–ª–µ[i][0], –ø–æ–ª–µ[i][1], –ø–æ–ª–µ[i][2], —Å–∏–º–≤–æ–ª): return True
            if –≤—Å–µ_—Ä–∞–≤–Ω—ã(–ø–æ–ª–µ[0][i], –ø–æ–ª–µ[1][i], –ø–æ–ª–µ[2][i], —Å–∏–º–≤–æ–ª): return True
        if –≤—Å–µ_—Ä–∞–≤–Ω—ã(–ø–æ–ª–µ[0][0], –ø–æ–ª–µ[1][1], –ø–æ–ª–µ[2][2], —Å–∏–º–≤–æ–ª): return True
        if –≤—Å–µ_—Ä–∞–≤–Ω—ã(–ø–æ–ª–µ[0][2], –ø–æ–ª–µ[1][1], –ø–æ–ª–µ[2][0], —Å–∏–º–≤–æ–ª): return True
        return False

    def –≤—Å–µ_—Ä–∞–≤–Ω—ã(*args):
        return all(x == args[0] for x in args)

    def –µ—Å—Ç—å_—Ö–æ–¥—ã(–ø–æ–ª–µ):
        return any(—è—á–µ–π–∫–∞ == " " for —Å—Ç—Ä–æ–∫–∞ in –ø–æ–ª–µ for —è—á–µ–π–∫–∞ in —Å—Ç—Ä–æ–∫–∞)

    def —Ö–æ–¥_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ø–æ–ª–µ):
        —Å–≤–æ–±–æ–¥–Ω—ã–µ = [(i, j) for i in range(3) for j in range(3) if –ø–æ–ª–µ[i][j] == " "]
        return random.choice(—Å–≤–æ–±–æ–¥–Ω—ã–µ) if —Å–≤–æ–±–æ–¥–Ω—ã–µ else None

    while True:
        print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª—É–π—Ç–µ –≤ –ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏!")
        print("–¢—ã –∏–≥—Ä–∞–µ—à—å –∑–∞ X. –ö–æ–º–ø—å—é—Ç–µ—Ä ‚Äî –∑–∞ O.")
        print("–§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞: –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏, –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1,2)\n")

        –ø–æ–ª–µ = [[" " for _ in range(3)] for _ in range(3)]
        –∏–≥—Ä–æ–∫ = "X"

        while True:
            –≤—ã–≤–µ—Å—Ç–∏_–ø–æ–ª–µ(–ø–æ–ª–µ)

            if –∏–≥—Ä–æ–∫ == "X":
                –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã = input("–¢–≤–æ–π —Ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞,—Å—Ç–æ–ª–±–µ—Ü): ").strip()
                try:
                    x, y = map(int, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.split(","))
                except ValueError:
                    print("‚ö†Ô∏è –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ü—Ä–∏–º–µ—Ä: 1,2")
                    continue

                if not (0 <= x < 3 and 0 <= y < 3):
                    print("‚ö†Ô∏è –í–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞. –û—Ç 0 –¥–æ 2.")
                    continue

                if –ø–æ–ª–µ[x][y] != " ":
                    print("‚ö†Ô∏è –ö–ª–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–∞.")
                    continue

                –ø–æ–ª–µ[x][y] = "X"

                if –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–±–µ–¥–∏—Ç–µ–ª—è(–ø–æ–ª–µ, "X"):
                    –≤—ã–≤–µ—Å—Ç–∏_–ø–æ–ª–µ(–ø–æ–ª–µ)
                    print("üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –¢—ã –ø–æ–±–µ–¥–∏–ª!")
                    break

                –∏–≥—Ä–æ–∫ = "O"
            else:
                print("–•–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞...")
                —Ö–æ–¥ = —Ö–æ–¥_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ø–æ–ª–µ)
                if —Ö–æ–¥:
                    x, y = —Ö–æ–¥
                    –ø–æ–ª–µ[x][y] = "O"

                    if –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–±–µ–¥–∏—Ç–µ–ª—è(–ø–æ–ª–µ, "O"):
                        –≤—ã–≤–µ—Å—Ç–∏_–ø–æ–ª–µ(–ø–æ–ª–µ)
                        print("üíÄ –£–≤—ã, –ø–æ–±–µ–¥–∏–ª –∫–æ–º–ø—å—é—Ç–µ—Ä.")
                        break

                –∏–≥—Ä–æ–∫ = "X"

            if not –µ—Å—Ç—å_—Ö–æ–¥—ã(–ø–æ–ª–µ):
                –≤—ã–≤–µ—Å—Ç–∏_–ø–æ–ª–µ(–ø–æ–ª–µ)
                print("ü§ù –ù–∏—á—å—è!")
                break

        –µ—â—ë = input("\n–•–æ—á–µ—à—å —Å—ã–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑? (–¥–∞/–Ω–µ—Ç): ").lower()
        if –µ—â—ë != "–¥–∞":
            print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
            break